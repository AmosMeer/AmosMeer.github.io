<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>【DFS】codeforces 638 B. Making Genome in Berland</title>
      <link href="/%E3%80%90DFS%E3%80%91codeforces%20638%20B.%20Making%20Genome%20in%20Berland/"/>
      <url>/%E3%80%90DFS%E3%80%91codeforces%20638%20B.%20Making%20Genome%20in%20Berland/</url>
      
        <content type="html"><![CDATA[<h2 id="题目传送门"><a href="#题目传送门" class="headerlink" title="题目传送门"></a><a href="http://codeforces.com/contest/638/problem/B" target="_blank" rel="noopener">题目传送门</a></h2><p>Berland scientists face a very important task - given the parts of short DNA fragments, restore the dinosaur DNA! The genome of a berland dinosaur has noting in common with the genome that we’ve used to: it can have 26 distinct nucleotide types, a nucleotide of each type can occur at most once. If we assign distinct English letters to all nucleotides, then the genome of a Berland dinosaur will represent a non-empty string consisting of small English letters, such that each letter occurs in it at most once.</p><p>Scientists have n genome fragments that are represented as substrings (non-empty sequences of consecutive nucleotides) of the sought genome.<br>You face the following problem: help scientists restore the dinosaur genome. It is guaranteed that the input is not contradictory and at least one suitable line always exists. When the scientists found out that you are a strong programmer, they asked you in addition to choose the one with the minimum length. If there are multiple such strings, choose any string.</p><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>给出 n 个子串，每个子串中的每个字符都不同（只包含26个小写字母），找到最短的原串，要求原串中的字符也都不同，保证答案一定存在。</p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>可以确定的是，每个字母后边要么有唯一确定的字母，要么没有字母。<br>那么只要 某个子串的第一个字符 不是 其他子串的第一个字符 ，那么这个字符就可以作为一个无前驱的结点。<br>所以只需要记录每个字符后边紧跟着的字符，然后直接 dfs 去找即可。</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MaxN = <span class="number">3e5</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> vis[<span class="number">50</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[<span class="number">50</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">vis[x] = <span class="number">2</span>; <span class="comment">// 表示字符x已经用过</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (<span class="keyword">char</span>)(<span class="string">'a'</span> + x);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G[x].size(); i++) &#123;</span><br><span class="line"><span class="keyword">int</span> u = G[x][i];</span><br><span class="line"><span class="keyword">if</span>(vis[u] != <span class="number">2</span>) &#123;</span><br><span class="line">dfs(u);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n; <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="built_in">string</span> s; <span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; s.size(); j++) &#123;</span><br><span class="line">vis[s[j]-<span class="string">'a'</span>] = <span class="number">1</span>;</span><br><span class="line">G[s[j<span class="number">-1</span>]-<span class="string">'a'</span>].push_back(s[j] - <span class="string">'a'</span>); <span class="comment">//如果这个字符在 子串的非第一个字符的位置上 出现过就打上标记，说明不是要寻找的无前驱结点</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!vis[s[<span class="number">0</span>]-<span class="string">'a'</span>]) vis[s[<span class="number">0</span>]-<span class="string">'a'</span>] = <span class="number">6</span>; <span class="comment">//用来寻找无前驱结点</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++) &#123;</span><br><span class="line"><span class="keyword">if</span>(vis[i] == <span class="number">6</span>) dfs(i); <span class="comment">//如果当前结点没有前驱</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DFS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DFS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【DP】 Codeforces Round 536 (Div. 2) E. Lunar New Year and Red Envelopes</title>
      <link href="/%E3%80%90DP%E3%80%91%20Codeforces%20Round%20536%20(Div.%202)%20E.%20Lunar%20New%20Year%20and%20Red%20Envelopes/"/>
      <url>/%E3%80%90DP%E3%80%91%20Codeforces%20Round%20536%20(Div.%202)%20E.%20Lunar%20New%20Year%20and%20Red%20Envelopes/</url>
      
        <content type="html"><![CDATA[<p><strong>题目地址：<a href="https://codeforces.com/contest/1106/problem/E" target="_blank" rel="noopener">https://codeforces.com/contest/1106/problem/E</a></strong></p><p>Lunar New Year is approaching, and Bob is going to receive some red envelopes with countless money! But collecting money from red envelopes is a time-consuming process itself.<br>Let’s describe this problem in a mathematical way. Consider a timeline from time 1 to n. The i-th red envelope will be available from time si to ti, inclusive, and contain wi coins. If Bob chooses to collect the coins in the i-th red envelope, he can do it only in an integer point of time between si and ti, inclusive, and he can’t collect any more envelopes until time di (inclusive) after that. Here si≤ti≤di holds.<br>Bob is a greedy man, he collects coins greedily — whenever he can collect coins at some integer time x, he collects the available red envelope with the maximum number of coins. If there are multiple envelopes with the same maximum number of coins, Bob would choose the one whose parameter d is the largest. If there are still multiple choices, Bob will choose one from them randomly.<br>However, Alice — his daughter — doesn’t want her father to get too many coins. She could disturb Bob at no more than m integer time moments. If Alice decides to disturb Bob at time x, he could not do anything at time x and resumes his usual strategy at the time x+1 (inclusive), which may lead to missing some red envelopes.<br>Calculate the minimum number of coins Bob would get if Alice disturbs him optimally.</p><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>在时间线为 1~n 上有 k 个信封和 m 个干扰机会，每个信封有领取时间段 [s, t]、时间点 d（领了个这个信封之后，在 d 点前无法领取其他信封）、以及价值 w，对于每个干扰机会，可以使其在任意一个时间点无法进行领取操作直到x+1。<br>问最优使用不超过m次干扰下，将领取的最小信封价值总和。每次领取的策略是取当前可领取信封中 w 最大的，w 相同时取 d 最大的。</p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>dp[i][j] 表示前 i 个时间点中用了 j 次机会所能得到的最少金币。</p><p>由于Bob每次要优先取 wi 最大，其次是取 di 最大，所以利用优先队列，在当前 i 这个时间点，将所有满足条件的信封放入优先队列，然后再进行转移。</p><p>对于每个时间点 i，如果当前没有满足条件的信封即优先队列为空时，就要把当前时间点的状态保留至下一个时间点。</p><p>$for(int j = 0; j &lt;= m; j++) dp[i+1][j] = Min(dp[i+1][j], dp[i][j]);$</p><p>如果有可用的信封，那么对于每次干扰机会 j，都有选择干扰和不干扰两种操作。</p><p>如果不干扰：$dp[di+1][j] = min(dp[di+1][j], dp[i][j] + wi);$</p><p>如果干扰：$dp[i+1][j+1] = min(dp[i+1][j+1], dp[i][j])$（注意此时 j 必须小与 m）</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> GCC diagnostic <span class="meta-keyword">error</span> <span class="meta-string">"-std=c++11"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset(a, b, sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MaxN = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> s, t, d, w;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node&amp; q) <span class="keyword">const</span> &#123;</span><br><span class="line"><span class="keyword">if</span>(q.w == w) <span class="keyword">return</span> q.d &gt; d;</span><br><span class="line"><span class="keyword">return</span> q.w &gt; w;</span><br><span class="line">&#125;</span><br><span class="line">&#125;a[MaxN];;</span><br><span class="line"></span><br><span class="line">priority_queue&lt;node&gt; q;</span><br><span class="line">LL dp[MaxN][<span class="number">205</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node x, node y)</span> </span>&#123; <span class="keyword">return</span> x.s &lt; y.s; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">Min</span><span class="params">(LL x, LL y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(y == <span class="number">-1</span>) <span class="keyword">return</span> x;</span><br><span class="line"><span class="keyword">if</span>(x == <span class="number">-1</span>) <span class="keyword">return</span> y;</span><br><span class="line"><span class="keyword">return</span> min(x, y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m, k;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;n, &amp;m, &amp;k);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>, &amp;a[i].s, &amp;a[i].t, &amp;a[i].d, &amp;a[i].w);</span><br><span class="line">&#125;</span><br><span class="line">sort(a + <span class="number">1</span>, a + <span class="number">1</span> + k, cmp);</span><br><span class="line"><span class="built_in">memset</span>(dp, <span class="number">-1</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">dp[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="keyword">while</span>(num &lt;= k &amp;&amp; a[num].s &lt;= i) q.push(a[num++]); <span class="comment">// 选取合法信封</span></span><br><span class="line"><span class="keyword">while</span>(!q.empty() &amp;&amp; q.top().t &lt; i) q.pop(); <span class="comment">// 排除不合法信封</span></span><br><span class="line"><span class="keyword">if</span>(q.empty()) &#123; <span class="comment">// 如果当前时间点没有可选信封，那么当前状态就保留至下一个时间点</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m; j++) dp[i+<span class="number">1</span>][j] = Min(dp[i+<span class="number">1</span>][j], dp[i][j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">node now = q.top();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= m; j++) &#123;</span><br><span class="line"><span class="keyword">if</span>(dp[i][j] == <span class="number">-1</span>) <span class="keyword">continue</span>;</span><br><span class="line">dp[now.d+<span class="number">1</span>][j] = Min(dp[now.d+<span class="number">1</span>][j], dp[i][j]+now.w); <span class="comment">// 不干扰此次操作</span></span><br><span class="line"><span class="keyword">if</span>(j &lt; m) &#123; <span class="comment">// 干扰此次操作</span></span><br><span class="line">dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = Min(dp[i+<span class="number">1</span>][j+<span class="number">1</span>], dp[i][j]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">LL ans = <span class="number">1e18</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= m; i++) ans = min(ans, dp[n+<span class="number">1</span>][i]);</span><br><span class="line">ans = max(<span class="number">0L</span>L, ans); <span class="comment">// 注意ans可能为负</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【DFS、期望】 Codeforces Round 428 (Div. 2) C. Journey</title>
      <link href="/%E3%80%90DFS%E3%80%81%E6%9C%9F%E6%9C%9B%E3%80%91%20Codeforces%20Round%20428%20(Div.%202)/"/>
      <url>/%E3%80%90DFS%E3%80%81%E6%9C%9F%E6%9C%9B%E3%80%91%20Codeforces%20Round%20428%20(Div.%202)/</url>
      
        <content type="html"><![CDATA[<h3 id="题目链接：https-codeforces-com-contest-839-problem-C"><a href="#题目链接：https-codeforces-com-contest-839-problem-C" class="headerlink" title="题目链接：https://codeforces.com/contest/839/problem/C"></a>题目链接：<a href="https://codeforces.com/contest/839/problem/C" target="_blank" rel="noopener">https://codeforces.com/contest/839/problem/C</a></h3><p>C. Journey<br>There are n cities and n - 1 roads in the Seven Kingdoms, each road connects two cities and we can reach any city from any other by the roads.<br>Theon and Yara Greyjoy are on a horse in the first city, they are starting traveling through the roads. But the weather is foggy, so they can’t see where the horse brings them. When the horse reaches a city (including the first one), it goes to one of the cities connected to the current city. But it is a strange horse, it only goes to cities in which they weren’t before. In each such city, the horse goes with equal probabilities and it stops when there are no such cities.<br>Let the length of each road be 1. The journey starts in the city 1. What is the expected length (expected value of length) of their journey? You can read about expected (average) value by the link <a href="https://en.wikipedia.org/wiki/Expected_value" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Expected_value</a>.</p><p>Input<br>The first line contains a single integer n (1 ≤ n ≤ 100000) — number of cities.<br>Then n - 1 lines follow. The i-th line of these lines contains two integers ui and vi (1 ≤ ui, vi ≤ n, ui ≠ vi) — the cities connected by the i-th road.<br>It is guaranteed that one can reach any city from any other by the roads.</p><p>Output<br>Print a number — the expected length of their journey. The journey starts in the city 1.<br>Your answer will be considered correct if its absolute or relative error does not exceed 10 - 6.</p><h1 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h1><p>由 n 个顶点 n-1 条边构成的以 1 为根的树，从根出发，等概率的往其子树走，求走过的路径长度的期望。 </p><h1 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h1><p>DFS.<br>例如：<br><img src="https://img-blog.csdnimg.cn/20190117152938931.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""><br>对5、6、7号结点期望求和即可。</p><p>需要注意的是，除了 1 号结点之外，其余结点均有父节点，所以在求其子树时需要减一，减去父节点，即：G[x].size()-1。</p><h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> GCC diagnostic <span class="meta-keyword">error</span> <span class="meta-string">"-std=c++11"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mst(a, b) memset(a, b, sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-9</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MaxN = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[MaxN];</span><br><span class="line"><span class="keyword">int</span> vis[MaxN];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">vis[x] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">double</span> sum = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G[x].size(); i++) &#123;</span><br><span class="line"><span class="keyword">int</span> u = G[x][i];</span><br><span class="line"><span class="keyword">if</span>(!vis[u]) &#123;</span><br><span class="line">sum += DFS(u) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> p = G[x].size() - (x != <span class="number">1</span>);</span><br><span class="line"><span class="keyword">return</span> p ? (sum / p) : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//ios::sync_with_stdio(false); cin.tie(0); cout.tie(0);</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> u, v; <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;u, &amp;v);</span><br><span class="line">G[u].push_back(v);</span><br><span class="line">G[v].push_back(u);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%.6lf\n"</span>, DFS(<span class="number">1</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> DFS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DFS </tag>
            
            <tag> 期望 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用 Github Pages 和 Hexo 搭建博客常见问题解决</title>
      <link href="/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
      <url>/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<p>欢迎各位大佬来参观我的博客：<strong><a href="http://amosmeer.cn/">AmosMeer’s Blog</a></strong><br>搭建过程中出现的任何问题请参考博客：<a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"><strong>常见问题解决</strong></a><br>完整的博客搭建过程的文章汇总：</p><ol><li><a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">利用 Github Pages 和 Hexo 初步搭建博客</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%88NexT%E4%B8%BB%E9%A2%98%EF%BC%89/">博客的美化配置（NexT主题）</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE/">博客的功能配置</a></li><li><a href="http://amosmeer.cn/2019/01/09/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/">利用 Github Pages 和 Hexo 搭建博客常见问题解决</a></li><li><a href="http://amosmeer.cn/%E5%B8%B8%E8%A7%81%20Hexo%20%E5%91%BD%E4%BB%A4/">常见 Hexo 命令</a></li></ol><h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><p><strong>说明：</strong><br>hexo 下的 _config.yml 称为站点配置文件<br>themes/next 中 的_config.yml 称为主题配置文件</p><h2 id="语言不生效问题"><a href="#语言不生效问题" class="headerlink" title="语言不生效问题"></a>语言不生效问题</h2><p>根据官方文档描述：<br>| 语言 | 代码 | 设定示例 |<br>|–|–|–|<br>| English | en | language: en |<br>|简体中文 | zh-Hans    | language: zh-Hans|<br>|Français|    fr-FR    | language: fr-FR|<br>|Português|    pt|    language: pt or language: pt-BR|<br>|繁體中文|    zh-hk 或者 zh-tw|    language: zh-hk|<br>|Русский| язык    |ru    language: ru|<br>|Deutsch|    de    |language: de|<br>|日本語|    ja|    language: ja|<br>|Indonesian|    id    |language: id|<br>|Korean|    ko    |language: ko|</p><p>在<strong>站点配置文件</strong>中设置语言</p><blockquote><p>language: zh-Hans  // 这里设置语言为 简体中文</p></blockquote><p>如果不起作用的话，查看 themes/next/languages/ 目录下是否有zh-Hans.yml 文件。如果没有的话需要把 zh-CN.yml 文件改成名字为 zh-Hans.yml 就可以了。</p><h2 id="出现-npm-command-not-found"><a href="#出现-npm-command-not-found" class="headerlink" title="出现 npm: command not found"></a>出现 npm: command not found</h2><p>有 git bash，也安装了 node.js, 但是在运行 bash 时依旧会报错 npm: command not found<br><strong>解决方案：</strong><br>需要改成全局安装。<br>npm install grunt ：本地安装<br>npm install -g grunt-cli ：全局安装<br>在cmd 下输入以下内容就可以了：</p><blockquote><p>npm install -g grunt-cli </p></blockquote><h2 id="创建新的SSH密钥时创建失败"><a href="#创建新的SSH密钥时创建失败" class="headerlink" title="创建新的SSH密钥时创建失败"></a>创建新的SSH密钥时创建失败</h2><p><strong>解决方案</strong>：如果创建位置位于C盘，可以尝试以管理员的身份运行 Git Bash Here</p><h2 id="出现-bash-cd-too-many-arguments"><a href="#出现-bash-cd-too-many-arguments" class="headerlink" title="出现 bash: cd: too many arguments"></a>出现 bash: cd: too many arguments</h2><p>命令中存在空格，如果是不必要空格直接删掉就好，若果是路径名或者变量中间有空格时，需要用双引号括起来。</p><h2 id="Git-密钥认证-github-时出现错误"><a href="#Git-密钥认证-github-时出现错误" class="headerlink" title="Git 密钥认证 github 时出现错误"></a>Git 密钥认证 github 时出现错误</h2><blockquote><p>$ ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a><br>The authenticity of host ‘github.com (192.30.255.112)’ can’t be established.<br>RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKY8.<br>Are you sure you want to continue connecting (yes/no)?</p></blockquote><p><strong>解决方案：</strong><br>直接输入 yes 回车，这时在ssh目录下除 id_rsa，id_rsa.pub 文件外，还会生成一个know_hosts 文件。</p><h2 id="出现-ERROR-Deployer-not-found-git"><a href="#出现-ERROR-Deployer-not-found-git" class="headerlink" title="出现 ERROR Deployer not found: git"></a>出现 ERROR Deployer not found: git</h2><p>执行 hexo g -d 时出现报错 ERROR Deployer not found: git，说明你的 deployer 没有安装成功，需要执行如下命令再安装一次：</p><blockquote><p>npm install hexo-deployer-git –save</p></blockquote><p>这样，再执行 hexo g -d，博客就部署到 Github 上了</p><h2 id="hexo更换主题后出现-WARN-No-layout-index-html"><a href="#hexo更换主题后出现-WARN-No-layout-index-html" class="headerlink" title="hexo更换主题后出现 WARN No layout: index.html"></a>hexo更换主题后出现 WARN No layout: index.html</h2><p><strong>解决方案</strong>：</p><ul><li>检查下载的主题是不是放在了 themes 文件夹下面。比如 next 主题的放置，就是点开 themes 就看到 next 的文件夹，next 下面就是主题的文件，不能打开 next 文件夹里面还有 themes。</li><li><p>检查站点配置 _config.yml 是否正确：theme: 主题名字</p><ul><li>这里是 theme，不是themes</li><li>theme 与主题名直接有一个空格（冒号后面有空格）</li><li>主题名字是否与themes文件夹下的主题的名字一致</li></ul></li></ul><h2 id="乱码问题"><a href="#乱码问题" class="headerlink" title="乱码问题"></a>乱码问题</h2><p>如果是记事本编辑后出现了乱码，尝试使用另存为更换编码方式为 utf-8<br><img src="https://img-blog.csdnimg.cn/20190113013517790.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20190113013555548.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></p><h2 id="git错误-unable-to-auto-detect-email-address"><a href="#git错误-unable-to-auto-detect-email-address" class="headerlink" title="git错误:unable to auto-detect email address"></a>git错误:unable to auto-detect email address</h2><p>每次重新新建工程时候git的配置信息都不能直接在命令行里修改 用户名 和邮箱，不会生效，且报错</p><p>*** Please tell me who you are.<br>Run<br>git config –global user.email “<a href="mailto:you@example.com" target="_blank" rel="noopener">you@example.com</a>“<br>git config –global user.name “Your Name”<br>to set your account’s default identity.<br>Omit –global to set the identity only in this repository.<br>fatal: unable to auto-detect email address (got ‘Administrator@PC-20150120BUBR.(none)’)</p><p><strong>解决方案：</strong><br>找到工程目录 (Project) 的.git文件夹 <code>Hexo\.deploy_git\.git</code>，打开之后找到 config 文件，在最后边加上一句话<br>[user]<br>email=your email<br>name=your name</p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客的功能配置</title>
      <link href="/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE/"/>
      <url>/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>欢迎各位大佬来参观我的博客：<strong><a href="http://amosmeer.cn/">AmosMeer’s Blog</a></strong><br>搭建过程中出现的任何问题请参考博客：<a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"><strong>常见问题解决</strong></a><br>完整的博客搭建过程的文章汇总：</p><ol><li><a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">利用 Github Pages 和 Hexo 初步搭建博客</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%88NexT%E4%B8%BB%E9%A2%98%EF%BC%89/">博客的美化配置（NexT主题）</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE/">博客的功能配置</a></li><li><a href="http://amosmeer.cn/2019/01/09/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/">利用 Github Pages 和 Hexo 搭建博客常见问题解决</a></li><li><a href="http://amosmeer.cn/%E5%B8%B8%E8%A7%81%20Hexo%20%E5%91%BD%E4%BB%A4/">常见 Hexo 命令</a></li></ol><p>主要有以下功能配置：</p><ol><li>添加「标签」页面</li><li>添加「分类」页面</li><li>添加「关于」页面</li><li>用hexo发表新文章</li></ol><h1 id="1-添加「标签」页面"><a href="#1-添加「标签」页面" class="headerlink" title="1.添加「标签」页面"></a>1.添加「标签」页面</h1><p>新建页面</p><pre><code>hexo new page tags</code></pre><p>修改站点目录下 <code>source/tags</code> 的 index.md 文件如下：</p><pre><code>---title: tagstype: &quot;tags&quot;comments: false---</code></pre><p>修改主题配置文件，取消 <code>#tags: /tags</code> 这行注释，内容如下</p><pre><code># 菜单示例配置menu:  home: /  archives: /archives  #about: /about  #categories: /categories  tags: /tags  #commonweal: /404.html</code></pre><p>新建测试文章，在新文章的头部添加tags信息，如下：</p><pre><code>title: 测试文章tags:  - Testing  - Another Tag---</code></pre><h1 id="2-添加「分类」页面"><a href="#2-添加「分类」页面" class="headerlink" title="2.添加「分类」页面"></a>2.添加「分类」页面</h1><p>新建页面</p><pre><code>hexo new page categories</code></pre><p>修改站点目录下 source/categories 的 index.md 文如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">comments: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>修改主题配置文件，取消 <code>#categories: /categories</code> 这行注释，内容如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 菜单示例配置</span><br><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  archives: /archives</span><br><span class="line">  #about: /about</span><br><span class="line">  categories: /categories</span><br><span class="line">  tags: /tags</span><br><span class="line">  #commonweal: /404.html</span><br></pre></td></tr></table></figure><p>在刚才测试的文章里面添加</p><pre><code>title: 测试文章tags:  - Testing  - Another Tagcategories: Testing---</code></pre><h1 id="3-添加「关于」页面"><a href="#3-添加「关于」页面" class="headerlink" title="3.添加「关于」页面"></a>3.添加「关于」页面</h1><p>新建页面</p><pre><code>hexo new page about</code></pre><p>修改主题配置文件，取消 <code>#about: /about</code> 这行注释，内容如下</p><pre><code># 菜单示例配置menu:  home: /  archives: /archives  about: /about  categories: /categories  tags: /tags  #commonweal: /404.html</code></pre><p>编辑站点目录下 <code>source/about</code> 的 <code>index.md</code> 文件内容，内容将显示在关于页面。</p><h1 id="4-用hexo发表新文章"><a href="#4-用hexo发表新文章" class="headerlink" title="4. 用hexo发表新文章"></a>4. 用hexo发表新文章</h1><pre><code>$ hexo n &quot;文章标题&quot; </code></pre><p>执行命令 <code>hexo n &quot;test&quot;</code> 后，会在项目 <code>\Hexo\source_posts</code> 中生成 我的家.md文件，用编辑器打开编写即可。</p><p>当然，也可以直接在\Hexo\source_posts中新建一个md文件，写完后，推送到服务器上，执行以下命令即可在我们的站点看到新的文章。</p><pre><code>$ hexo g #生成$ hexo d #部署 # 可与hexo g合并为 hexo d -g</code></pre>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常见Hexo命令</title>
      <link href="/%E5%B8%B8%E8%A7%81%20Hexo%20%E5%91%BD%E4%BB%A4/"/>
      <url>/%E5%B8%B8%E8%A7%81%20Hexo%20%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<p>欢迎各位大佬来参观我的博客：<strong><a href="http://amosmeer.cn/">AmosMeer’s Blog</a></strong><br>搭建过程中出现的任何问题请参考博客：<a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"><strong>常见问题解决</strong></a><br>完整的博客搭建过程的文章汇总：</p><ol><li><a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">利用 Github Pages 和 Hexo 初步搭建博客</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%88NexT%E4%B8%BB%E9%A2%98%EF%BC%89/">博客的美化配置（NexT主题）</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE/">博客的功能配置</a></li><li><a href="http://amosmeer.cn/2019/01/09/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/">利用 Github Pages 和 Hexo 搭建博客常见问题解决</a></li><li><a href="http://amosmeer.cn/%E5%B8%B8%E8%A7%81%20Hexo%20%E5%91%BD%E4%BB%A4/">常见 Hexo 命令</a></li></ol><p><strong>查看<a href="https://hexo.io/zh-cn/docs/commands.html" target="_blank" rel="noopener">官方文档</a></strong></p><h1 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h1><h2 id="init"><a href="#init" class="headerlink" title="init"></a>init</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init [folder]</span><br></pre></td></tr></table></figure><p>新建一个网站。如果没有设置 folder ，Hexo 默认在目前的文件夹建立网站。</p><hr><h2 id="new"><a href="#new" class="headerlink" title="new"></a>new</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new [layout]   ==  $ hexo n</span><br></pre></td></tr></table></figure><p>新建一篇文章。如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。如果标题包含空格的话，请使用引号括起来。</p><hr><h2 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate  ==  $ hexo g</span><br></pre></td></tr></table></figure><hr><h2 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo publish [layout] &lt;filename&gt;</span><br></pre></td></tr></table></figure><p>发表草稿。</p><hr><h2 id="server"><a href="#server" class="headerlink" title="server"></a>server</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server  ==  $ hexo s</span><br></pre></td></tr></table></figure><p>启动服务器。默认情况下，访问网址为： <a href="http://localhost:4000/。" target="_blank" rel="noopener">http://localhost:4000/。</a></p><hr><h2 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy  ==  $ hexo d</span><br></pre></td></tr></table></figure><p>部署网站。</p><hr><h2 id="render"><a href="#render" class="headerlink" title="render"></a>render</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo render &lt;file1&gt; [file2] ...</span><br></pre></td></tr></table></figure><hr><h2 id="migrate"><a href="#migrate" class="headerlink" title="migrate"></a>migrate</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo migrate &lt;type&gt;</span><br></pre></td></tr></table></figure><p>从其他博客系统 迁移内容。</p><hr><h2 id="clean"><a href="#clean" class="headerlink" title="clean"></a>clean</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure><p>清除缓存文件 (db.json) 和已生成的静态文件 (public)。</p><p>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p><hr><h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo list &lt;type&gt;</span><br></pre></td></tr></table></figure><p>列出网站资料。</p><hr><h2 id="version"><a href="#version" class="headerlink" title="version"></a>version</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo version</span><br></pre></td></tr></table></figure><p>显示 Hexo 版本。</p><hr><h1 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h1><h2 id="安全模式"><a href="#安全模式" class="headerlink" title="安全模式"></a>安全模式</h2><blockquote><p>$ hexo –safe</p></blockquote><p>在安全模式下，不会载入插件和脚本。当您在安装新插件遭遇问题时，可以尝试以安全模式重新执行。</p><hr><h2 id="调试模式"><a href="#调试模式" class="headerlink" title="调试模式"></a>调试模式</h2><blockquote><p>$ hexo –debug</p></blockquote><p>在终端中显示调试信息并记录到 debug.log。当您碰到问题时，可以尝试用调试模式重新执行一次，并 提交调试信息到 GitHub。</p><hr><h2 id="简洁模式"><a href="#简洁模式" class="headerlink" title="简洁模式"></a>简洁模式</h2><blockquote><p>$ hexo –silent</p></blockquote><p>隐藏终端信息。</p><hr><h2 id="自定义配置文件的路径"><a href="#自定义配置文件的路径" class="headerlink" title="自定义配置文件的路径"></a>自定义配置文件的路径</h2><blockquote><p>$ hexo –config custom.yml</p></blockquote><p>自定义配置文件的路径，执行后将不再使用 _config.yml。</p><hr><h2 id="显示草稿"><a href="#显示草稿" class="headerlink" title="显示草稿"></a>显示草稿</h2><blockquote><p>$ hexo –draft</p></blockquote><p>显示 source/_drafts 文件夹中的草稿文章。</p><hr><h2 id="自定义-CWD"><a href="#自定义-CWD" class="headerlink" title="自定义 CWD"></a>自定义 CWD</h2><blockquote><p>$ hexo –cwd /path/to/cwd</p></blockquote><p>自定义当前工作目录（Current working directory）的路径。</p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用 Github Pages 和 Hexo 初步搭建博客</title>
      <link href="/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>欢迎各位大佬来参观我的博客：<strong><a href="http://amosmeer.cn/">AmosMeer’s Blog</a></strong><br>搭建过程中出现的任何问题请参考博客：<a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"><strong>常见问题解决</strong></a><br>完整的博客搭建过程的文章汇总：</p><ol><li><a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">利用 Github Pages 和 Hexo 初步搭建博客</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%88NexT%E4%B8%BB%E9%A2%98%EF%BC%89/">博客的美化配置（NexT主题）</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE/">博客的功能配置</a></li><li><a href="http://amosmeer.cn/2019/01/09/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/">利用 Github Pages 和 Hexo 搭建博客常见问题解决</a></li><li><a href="http://amosmeer.cn/%E5%B8%B8%E8%A7%81%20Hexo%20%E5%91%BD%E4%BB%A4/">常见 Hexo 命令</a></li></ol><h1 id="关于Github"><a href="#关于Github" class="headerlink" title="关于Github"></a>关于Github</h1><h2 id="Github的优点"><a href="#Github的优点" class="headerlink" title="Github的优点"></a>Github的优点</h2><p>GitHub是基于git实现的代码托管。git可能是目前最好用的版本控制系统了，非常受欢迎。<br>GitHub可以免费使用，并且快速稳定。<br>Github上面的世界很精彩，用久了你的眼界会开阔很多。</p><h2 id="Github-Pages"><a href="#Github-Pages" class="headerlink" title="Github Pages"></a>Github Pages</h2><p>Github Pages可以被认为是用户编写的、托管在github上的静态网页。</p><p>Github Pages可以绑定你的域名(但暂时好像只能绑定一个)。<br>简单快捷，使用Github Pages可以为你提供一个免费的服务器，免去了自己搭建服务器和写数据库的麻烦。</p><h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><h3 id="1-安装Node-js"><a href="#1-安装Node-js" class="headerlink" title="1. 安装Node.js"></a>1. 安装Node.js</h3><p>在 Windows 环境下安装 Node.js 非常简单，仅须到<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">官网下载</a>安装文件并执行即可完成安装。</p><h3 id="2-安装Git"><a href="#2-安装Git" class="headerlink" title="2. 安装Git"></a>2. 安装Git</h3><p>去<a href="https://git-scm.com/download/win" target="_blank" rel="noopener">Git官网</a>根据你的电脑参数，下载对应版本。</p><p>下载完成，通过在命令行输入 git version 查看是否安装成功，有输出版本号说明安装成功。</p><p>鼠标右键的菜单里就多了 Git GUI Here 和 Git Bash Here 两个按钮，一个是图形界面的Git操作，一个是命令行，我们选择Git Bash Here。<br><img src="https://img-blog.csdnimg.cn/2019011218513464.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></p><h1 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h1><p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><h2 id="1-Hexo安装"><a href="#1-Hexo安装" class="headerlink" title="1. Hexo安装"></a>1. Hexo安装</h2><p>桌面右键鼠标，点击 Git Bash Here，输入 npm 命令即可安装</p><blockquote><p>npm install hexo-cli -g<br>npm install hexo-deployer-git –save</p></blockquote><p>第一句是安装hexo，第二句是安装hexo部署到git page的deployer，两个都需要安装。</p><h2 id="2-初始化配置"><a href="#2-初始化配置" class="headerlink" title="2. 初始化配置"></a>2. 初始化配置</h2><h3 id="创建Hexo文件夹"><a href="#创建Hexo文件夹" class="headerlink" title="创建Hexo文件夹"></a>创建Hexo文件夹</h3><p>安装完成后，根据自己喜好建立目录（如F:\Blog\Hexo），直接进入F:\Blog\Hexo文件夹下右键鼠标，点击Git Bash Here，进入Git命令框，执行以下操作。</p><blockquote><p>$ hexo init</p></blockquote><p>安装 Hexo 完成后，Hexo 将会在指定文件夹中新建所需要的文件。Hexo文件夹下的目录如下：<br><img src="https://img-blog.csdnimg.cn/20190112185514247.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="本地查看效果"><a href="#本地查看效果" class="headerlink" title="本地查看效果"></a>本地查看效果</h3><p>执行下面语句，执行完即可登录localhost:4000查看效果</p><blockquote><p>hexo generate<br>hexo server</p></blockquote><p>登录localhost:4000，即可看到本地的效果如下：<br><img src="https://img-blog.csdnimg.cn/20190112185618486.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></p><h3 id="将博客部署到Github-Pages上"><a href="#将博客部署到Github-Pages上" class="headerlink" title="将博客部署到Github Pages上"></a>将博客部署到Github Pages上</h3><h4 id="一-注册Github账户"><a href="#一-注册Github账户" class="headerlink" title="一. 注册Github账户"></a>一. 注册Github账户</h4><ol><li>访问Github首页</li><li>点击右上角的 <a href="https://github.com/" target="_blank" rel="noopener">Sign Up</a>，注册自己的账户点击右上角的 <a href="https://github.com/" target="_blank" rel="noopener">Sign Up</a>，注册自己的账户</li></ol><h4 id="二-创建项目代码库"><a href="#二-创建项目代码库" class="headerlink" title="二. 创建项目代码库"></a>二. 创建项目代码库</h4><ol><li>注册完登陆后，我们就创建一个我们自己的Github Pages项目。点击<a href="https://github.com/new" target="_blank" rel="noopener">New repository</a>。</li><li>创建要点如下：<br><img src="https://img-blog.csdnimg.cn/20190112190346125.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></li></ol><h4 id="三-配置SSH密钥"><a href="#三-配置SSH密钥" class="headerlink" title="三. 配置SSH密钥"></a>三. 配置SSH密钥</h4><p>配置Github的SSH密钥可以让本地git项目与远程的github建立联系，让我们在本地写了代码之后直接通过git操作就可以实现本地代码库与Github代码库同步。操作如下：</p><h5 id="看看是否存在SSH密钥-keys"><a href="#看看是否存在SSH密钥-keys" class="headerlink" title="看看是否存在SSH密钥(keys)"></a>看看是否存在SSH密钥(keys)</h5><blockquote><p>$ cd ~/. ssh</p></blockquote><p>检查你本机用户home目录下是否存在.ssh目录<br>如果不存在此目录，则进行第二步操作，否则，你本机已经存在ssh公钥和私钥，可以略过第二步，直接进入第三步操作。</p><h5 id="创建一对新的SSH密钥-keys"><a href="#创建一对新的SSH密钥-keys" class="headerlink" title="创建一对新的SSH密钥(keys)"></a>创建一对新的SSH密钥(keys)</h5><blockquote><p>$ssh-keygen -t rsa -C “<a href="mailto:your_email@example.com" target="_blank" rel="noopener">your_email@example.com</a>“</p></blockquote><p>#这将按照你提供的邮箱地址，创建一对密钥<br>Generating public/private rsa key pair.<br>Enter file in which to save the key (/c/Users/you/.ssh/id_rsa): [Press enter]</p><p>直接回车，则将密钥按默认文件进行存储。此时也可以输入特定的文件名，比如/c/Users/you/.ssh/github_rsa</p><p>接着，根据提示，你需要输入密码和确认密码，如果和我一样比较懒可以不设置密码，直接回车就好。。<del>所谓的最安全的密码，就是没有密码哈哈哈</del> 相关提示如下：</p><blockquote><p>Enter passphrase (empty for no passphrase): [Type a passphrase]<br>Enter same passphrase again: [Type passphrase again]</p></blockquote><p>输入完成之后，屏幕会显示如下信息：</p><p>Your identification has been saved in /c/Users/you/.ssh/id_rsa.<br>Your public key has been saved in /c/Users/you/.ssh/id_rsa.pub.<br>The key fingerprint is:<br>01:0f:f4:3b:ca:85:d6:17:a1:7d:f0:68:9d:f0:a2:db <a href="mailto:your_email@example.com" target="_blank" rel="noopener">your_email@example.com</a></p><h5 id="在GitHub账户中添加公钥"><a href="#在GitHub账户中添加公钥" class="headerlink" title="在GitHub账户中添加公钥"></a>在GitHub账户中添加公钥</h5><p>运行如下命令，将公钥的内容复制到系统粘贴板(clipboard)中。</p><blockquote><p>clip &lt; ~/.ssh/id_rsa.pub</p></blockquote><p>然后：<br><strong>1. 登陆GitHub,进入你的Account Settings.</strong><br><img src="https://img-blog.csdnimg.cn/20190112191425666.png" alt=""></p><p><strong>2. 选择SSH Keys</strong><br><img src="https://img-blog.csdnimg.cn/20190112191807581.png" alt=""></p><p><strong>3. 粘贴密钥，添加即可</strong><br><img src="https://img-blog.csdnimg.cn/20190112191512517.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""><br><strong>4. 测试是否成功设置</strong></p><blockquote><p>$ ssh -T <a href="mailto:git@github.com" target="_blank" rel="noopener">git@github.com</a></p></blockquote><p>如果收到下面的反馈，直接输入 yes 就好</p><blockquote><p>The authenticity of host ‘github.com (207.97.227.239)’ can’t be established.<br>RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.<br>Are you sure you want to continue connecting (yes/no)?</p></blockquote><p><strong>5. 设置用户信息</strong><br>现在你已经可以通过SSH链接到GitHub了，但是还有一些个人信息需要完善。<br>Git会根据用户的名字和邮箱来记录提交。GitHub也是用这些信息来做权限的处理，输入下面的代码进行个人信息的设置，把名称和邮箱替换成你自己的，名字根据自己的喜好自己取，而不是GitHub的昵称。</p><blockquote><p>$ git config –global user.name “AmosMeer”  //你的用户名<br>$ git config –global user.email  “<a href="mailto:amosmeer@gmail.com" target="_blank" rel="noopener">amosmeer@gmail.com</a>“  //你的邮箱</p></blockquote><ol start="6"><li>SSH Key配置成功</li></ol><h5 id="将本地的Hexo文件更新到Github的库中"><a href="#将本地的Hexo文件更新到Github的库中" class="headerlink" title="将本地的Hexo文件更新到Github的库中"></a>将本地的Hexo文件更新到Github的库中</h5><ol><li>登录Github打开自己的项目 username.github.io<br><img src="https://img-blog.csdnimg.cn/20190112192211788.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></li><li><p>打开之后，点击SSH，选择SSH类型地址并复制地址<br><img src="https://img-blog.csdnimg.cn/20190112192247706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></p><ol start="3"><li>打开你一开始创建的 Hexo 文件夹（如 F:\Blog\Hexo），用记事本打开刚文件夹下的 _config.yml 文件<br><img src="https://img-blog.csdnimg.cn/2019011219240582.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></li></ol></li><li>在配置文件里作如下修改，保存<br><img src="https://img-blog.csdnimg.cn/20190112192653352.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>在Hexo文件夹下执行：</li></ol><blockquote><p>hexo g<br>hexo d</p></blockquote><p>或者直接执行：</p><blockquote><p>hexo g -d</p></blockquote><p>执行完之后会让你输入 github 的账号和密码，输入完后就可以部署在 Github Pages 服务器上的博客了。对应的地址是 username.github.io(我的是：AmosMeer.github.io)。</p><ol start="6"><li>在浏览器上输入自己的主页地址<br>在浏览器上输入Github Pager为我们生成的外链（例如我的是：AmosMeer.github.io/，而你的只需要把你的github用户名替换掉这个链接中的 AmosMeer）即可看到自己的博客了。<br>当然，每一个人都可以通过这个地址访问到你的博客了。</li></ol><p>到这为止，博客就初步搭建完成啦！</p><h1 id="关联域名到Github-Pages"><a href="#关联域名到Github-Pages" class="headerlink" title="关联域名到Github Pages"></a>关联域名到Github Pages</h1><h2 id="配置CNAME文件"><a href="#配置CNAME文件" class="headerlink" title="配置CNAME文件"></a>配置CNAME文件</h2><p>在 <code>\hexo\source</code> 文件夹下创建文件 CNAME （新建记事本文件命名CNAME，然后打开）<br>内容为你的域名，例如我的域名是：amosmeer.cn<br><img src="https://img-blog.csdnimg.cn/20190117171658455.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""><br>在Hexo文件夹提交</p><pre><code>hexo g -d</code></pre><h2 id="修改DNS"><a href="#修改DNS" class="headerlink" title="修改DNS"></a>修改DNS</h2><p>点击域名管理，修改DNS为（一般就是默认值）：</p><pre><code>f1g1ns2.dnspod.net f1g1ns1.dnspod.net </code></pre><p>一般都会有引导，可以点击 “一键修改”</p><h2 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h2><ol><li>点击 “域名解析”<br><img src="https://img-blog.csdnimg.cn/20190118201053431.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>点击 “添加记录”<img src="https://img-blog.csdnimg.cn/20190118201209786.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li><li>记录类型选A，解析记录设置为@。A记录的记录值就是ip地址，github(官方文档)提供了两个IP地址，<code>192.30.252.153</code> 和 <code>192.30.252.154</code>，这两个IP地址为 github 的服务器地址，两个都要填上。<br>再添加一条解析记录，记录类型选 CNAME，解析记录设置为www，线路默认就行。CNAME 记录值填你的github博客网址，例如我的是amosmeer.github.io。<br><img src="https://img-blog.csdnimg.cn/20190118201559396.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></li></ol>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客的美化配置（NexT主题）</title>
      <link href="/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%88NexT%E4%B8%BB%E9%A2%98%EF%BC%89/"/>
      <url>/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%88NexT%E4%B8%BB%E9%A2%98%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>欢迎各位大佬来参观我的博客：<strong><a href="http://amosmeer.cn/">AmosMeer’s Blog</a></strong><br>搭建过程中出现的任何问题请参考博客：<a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"><strong>常见问题解决</strong></a><br>完整的博客搭建过程的文章汇总：</p><ol><li><a href="http://amosmeer.cn/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E5%88%9D%E6%AD%A5%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">利用 Github Pages 和 Hexo 初步搭建博客</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E7%BE%8E%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%88NexT%E4%B8%BB%E9%A2%98%EF%BC%89/">博客的美化配置（NexT主题）</a></li><li><a href="http://amosmeer.cn/%E5%8D%9A%E5%AE%A2%E7%9A%84%E5%8A%9F%E8%83%BD%E9%85%8D%E7%BD%AE/">博客的功能配置</a></li><li><a href="http://amosmeer.cn/2019/01/09/%E5%88%A9%E7%94%A8%20Github%20Pages%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/">利用 Github Pages 和 Hexo 搭建博客常见问题解决</a></li><li><a href="http://amosmeer.cn/%E5%B8%B8%E8%A7%81%20Hexo%20%E5%91%BD%E4%BB%A4/">常见 Hexo 命令</a></li></ol><p>主要有一下 23 种配置：</p><ol><li>在右上角或者左上角实现 fork me on github</li><li>修改文章内链接文本样式</li><li>修改底部标签样式</li><li>在文章末尾添加“文章结束”标记</li><li>设置头像并设置动画效果</li><li>修改代码块自定义样式</li><li>侧边栏社交小图标设置</li><li>主页文章添加阴影效果</li><li>网站底部加访问量（待完成）</li><li>添加热度（待完成）</li><li>网站底部加上字数统计和阅读时长</li><li>设置网站的图标Favicon12</li><li>实现文章统计功能</li><li>添加网页顶部进度加载条</li><li>底部隐藏由Hexo强力驱动、主题–NexT.Mist</li><li>博文置顶</li><li>添加站内搜索</li><li>在文章底部增加版权信息</li><li>添加侧栏推荐阅读</li><li>添加底部桃心</li><li>添加DaoVoice在线联系</li><li>博客加上萌萌的宠物</li><li>首页文章只显示预览</li></ol><h1 id="从-Hexo-的官网选取主题"><a href="#从-Hexo-的官网选取主题" class="headerlink" title="从 Hexo 的官网选取主题"></a>从 <a href="https://hexo.io/themes/" target="_blank" rel="noopener">Hexo 的官网</a>选取主题</h1><h2 id="1-选取主题"><a href="#1-选取主题" class="headerlink" title="1.选取主题"></a>1.选取主题</h2><p>可以选择喜欢的主题，点击进入到它的 github 地址，只需要把 GitHub 的地址复制下来即可。<br>我选择的主题为：hexo-theme-next，所以下面的配置也会以 next 为例。<br><img src="https://img-blog.csdnimg.cn/20190112231546416.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></p><h2 id="2-克隆主题"><a href="#2-克隆主题" class="headerlink" title="2.克隆主题"></a>2.克隆主题</h2><p>再打开Hexo文件夹下的themes目录（F:\Blog\hexo\themes），右键Git Bash，在命令行输入:</p><blockquote><p>git clone <a href="https://github.com/theme-next/hexo-theme-next" target="_blank" rel="noopener">https://github.com/theme-next/hexo-theme-next</a>  (此处地址替换成你需要使用的主题的地址) </p></blockquote><p>然后等待下载完成</p><h2 id="3-修改Hexo配置文件"><a href="#3-修改Hexo配置文件" class="headerlink" title="3.修改Hexo配置文件"></a>3.修改Hexo配置文件</h2><p>下载完成后，打开Hexo文件夹下的配置文件_config.yml</p><p>修改参数为：<code>theme: hexo-theme-next</code></p><h2 id="4-部署主题，本地查看效果"><a href="#4-部署主题，本地查看效果" class="headerlink" title="4.部署主题，本地查看效果"></a>4.部署主题，本地查看效果</h2><p>返回Hexo目录，右键Git Bash，输入</p><blockquote><p>hexo g<br>hexo s</p></blockquote><p>打开浏览器，输入 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 即可看见更换后的新主题<br><img src="https://img-blog.csdnimg.cn/20190112232235944.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="部署到-Github"><a href="#部署到-Github" class="headerlink" title="部署到 Github"></a>部署到 Github</h2><p>如果效果满意，就可以将它部署到 Github 上<br>打开 Hexo 文件夹，右键 Git Bash，输入</p><blockquote><p>hexo clean   (必须要，不然有时因为缓存问题，服务器更新不了主题)<br>hexo g -d</p></blockquote><h2 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h2><p>打开自己的主页，即可看到修改后的效果<br>更多修改效果请查看对应主题的说明文档，点击此查看本主题(Next)对应的<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">说明文档</a>。</p><h1 id="进一步美化主题（NexT）"><a href="#进一步美化主题（NexT）" class="headerlink" title="进一步美化主题（NexT）"></a>进一步美化主题（NexT）</h1><p>根据 NexT 官方文档中的 <a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">开始使用</a> 下的流程就可以完成初步的配置</p><h2 id="1-在右上角或者左上角实现-fork-me-on-github"><a href="#1-在右上角或者左上角实现-fork-me-on-github" class="headerlink" title="1. 在右上角或者左上角实现 fork me on github"></a>1. 在右上角或者左上角实现 fork me on github</h2><p>效果图如下图所示：<br><img src="https://img-blog.csdnimg.cn/20190112233813136.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>在 <a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="noopener">GitHub Ribbons</a> 或 <a href="http://tholman.com/github-corners/" target="_blank" rel="noopener">GitHub Corners</a> 选择一款你喜欢的挂饰，拷贝方框内的代码：<br><img src="https://img-blog.csdnimg.cn/20190112234027354.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>将刚刚复制的挂饰代码，添加到 <code>Blog/themes/next/layout/_layout.swig</code> 文件中，添加位置如下图所示(放在 <code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code> 下方)：<br><img src="https://img-blog.csdnimg.cn/20190112234644569.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="2-修改文章内链接文本样式"><a href="#2-修改文章内链接文本样式" class="headerlink" title="2. 修改文章内链接文本样式"></a>2. 修改文章内链接文本样式</h2><p>修改 <code>Blog/themes/next/source/css/_common/components/post/post.styl</code> ，在末尾添加 CSS 样式：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 文章内链接文本样式</span><br><span class="line">.post-body p a&#123;</span><br><span class="line">  color: #0593d3; //原始链接颜色</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid #0593d3; //底部分割线颜色</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: #fc6423; //鼠标经过颜色</span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-bottom: 1px solid #fc6423; //底部分割线颜色</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>设置后，效果如下：<br><img src="https://img-blog.csdnimg.cn/2019011223564166.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="3-修改底部标签样式"><a href="#3-修改底部标签样式" class="headerlink" title="3. 修改底部标签样式"></a>3. 修改底部标签样式</h2><p>记事本打开 <code>Blog\themes\next\layout\_macro\post.swig</code> 文件<br><strong>command+f</strong> 搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将 <strong>#</strong> 替换成 <code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code><br><img src="https://img-blog.csdnimg.cn/20190113000242464.png" alt="在这里插入图片描述"></p><h2 id="4-在文章末尾添加“文章结束”标记"><a href="#4-在文章末尾添加“文章结束”标记" class="headerlink" title="4. 在文章末尾添加“文章结束”标记"></a>4. 在文章末尾添加“文章结束”标记</h2><p>路径 <code>Blog\themes\next\layout\_macro</code> 文件夹中新建 <code>passage-end-tag.swig</code> 文件<br>或者使用以下命令创建：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//切换到路径_macro</span><br><span class="line">cd [_macro路径]</span><br><span class="line"></span><br><span class="line">//创建passage-end-tag.swig文件</span><br><span class="line">touch passage-end-tag.swig</span><br></pre></td></tr></table></figure></p><p>在<code>passage-end-tag.swig</code>添加以下内容，直接用文本编辑器打开，粘贴以下内容后保存</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>-------------本文结束 <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-paw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 感谢您的阅读-------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>打开 <code>Blog\themes\next\layout\_macro\post.swig</code>，在 <code>post-body</code> 之后， <code>post-footer</code> 之前（post-footer之前两个DIV），添加以下代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include 'passage-end-tag.swig' %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>添加位置如下：<br><img src="https://img-blog.csdnimg.cn/20190113001733892.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>修改主题配置文件<code>_config.yml</code>，在末尾添加：</p><pre><code># 文章末尾添加“本文结束”标记passage_end_tag:  enabled: true</code></pre><p>配置完成之后，效果如下：<br><img src="https://img-blog.csdnimg.cn/20190113003701169.png" alt="在这里插入图片描述"></p><h2 id="5-设置头像并设置动画效果"><a href="#5-设置头像并设置动画效果" class="headerlink" title="5.设置头像并设置动画效果"></a>5.设置头像并设置动画效果</h2><p>在 <code>Blog/_config.yml</code> 中添加头像链接地址：</p><pre><code>//添加头像地址avatar: [ http://....]</code></pre><p>设置头像圆角并旋转，打开 <code>Blog/themes/next/source/css/_common/components/sidebar/sidebar-author.styl</code>，添加以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: $site-author-image-padding;</span><br><span class="line">  <span class="attribute">max-width</span>: $site-author-image-width;</span><br><span class="line">  <span class="attribute">height</span>: $site-author-image-height;</span><br><span class="line">  <span class="attribute">border</span>: $site-author-image-border-width solid $site-author-image-border-color;</span><br><span class="line">  <span class="comment">/* 头像圆形 */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-webkit-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">-moz-border-radius</span>: <span class="number">80px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">#333</span>sf;</span><br><span class="line">  <span class="comment">/* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ase-out)动画播放的速度曲线为以低速结束 </span></span><br><span class="line"><span class="comment">    (1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ]*/</span></span><br><span class="line"> </span><br><span class="line">  <span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line">  <span class="attribute">-webkit-transition</span>: -webkit-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">-moz-transition</span>: -moz-transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">1.0s</span> ease-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 鼠标经过停止头像旋转 </span></span><br><span class="line"><span class="comment">  -webkit-animation-play-state:paused;</span></span><br><span class="line"><span class="comment">  animation-play-state:paused;*/</span></span><br><span class="line">  <span class="comment">/* 鼠标经过头像旋转360度 */</span></span><br><span class="line">  <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(360deg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Z 轴旋转动画 */</span></span><br><span class="line">@-<span class="keyword">webkit</span>-<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-webkit-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@-<span class="keyword">moz</span>-<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">-moz-transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> play &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(0deg);</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotateZ</span>(-360deg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-修改代码块自定义样式"><a href="#6-修改代码块自定义样式" class="headerlink" title="6.修改代码块自定义样式"></a>6.修改代码块自定义样式</h2><p>打开<code>Blog\themes\next\source\css\_custom\custom.styl</code>，添加以下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#ff7600</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fbf7f8</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line">// 大代码块的自定义样式</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">pre</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">code</span>, <span class="selector-tag">pre</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d6d6d6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-侧边栏社交小图标设置"><a href="#7-侧边栏社交小图标设置" class="headerlink" title="7.侧边栏社交小图标设置"></a>7.侧边栏社交小图标设置</h2><p>打开主题配置文件<code>_config.yml</code>，<code>command+f</code>搜索 <strong>Social</strong>，将你有的社交账号前面的 # 号去掉。<br>格式为：</p><blockquote><p>[社交平台名]: [社交地址] || [图标名称]</p></blockquote><p><img src="https://img-blog.csdnimg.cn/20190113012619561.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>效果如下：<br><img src="https://img-blog.csdnimg.cn/20190113005520803.png" alt="在这里插入图片描述"><br>图标可以去<a href="https://fontawesome.com/icons?from=io" target="_blank" rel="noopener">Font Awesome Icon</a>网站去找，找到后复制名字到相应的位置即可。</p><h2 id="8-主页文章添加阴影效果"><a href="#8-主页文章添加阴影效果" class="headerlink" title="8.主页文章添加阴影效果"></a>8.主页文章添加阴影效果</h2><p>打开<code>Blog\themes\next\source\css\_custom\custom.styl</code>，添加以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line"> .post &#123;</span><br><span class="line">   margin-top: 60px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>效果如下：<br><img src="https://img-blog.csdnimg.cn/20190113005945676.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="9-网站底部加上访问量（待完成）"><a href="#9-网站底部加上访问量（待完成）" class="headerlink" title="9.网站底部加上访问量（待完成）"></a>9.网站底部加上访问量（待完成）</h2><h2 id="10-添加热度（待完成）"><a href="#10-添加热度（待完成）" class="headerlink" title="10.添加热度（待完成）"></a>10.添加热度（待完成）</h2><h2 id="11-网站底部字数统计和阅读时长"><a href="#11-网站底部字数统计和阅读时长" class="headerlink" title="11.网站底部字数统计和阅读时长"></a>11.网站底部字数统计和阅读时长</h2><p>打开<code>\themes\next\layout\_partials\footer.swig</code>文件,在copyright前加上画红线这句话：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script async src=&quot;https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190113134356722.png" alt="在这里插入图片描述"></p><p>然后再合适的位置添加显示统计的代码，如图：<br><img src="https://img-blog.csdnimg.cn/20190113134433589.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;powered-by&quot;&gt;</span><br><span class="line">&lt;i class=&quot;fa fa-user-md&quot;&gt;&lt;/i&gt;&lt;span id=&quot;busuanzi_container_site_uv&quot;&gt;</span><br><span class="line">  本站访客数:&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;</span><br><span class="line">&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>在这里有两中不同计算方式的统计代码：</p><ol><li>pv的方式，单个用户连续点击n篇文章，记录n次访问量</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=&quot;busuanzi_container_site_pv&quot;&gt;</span><br><span class="line">    本站总访问量&lt;span id=&quot;busuanzi_value_site_pv&quot;&gt;&lt;/span&gt;次</span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li>uv的方式，单个用户连续点击n篇文章，只记录1次访客数</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span id=&quot;busuanzi_container_site_uv&quot;&gt;</span><br><span class="line">  本站总访问量&lt;span id=&quot;busuanzi_value_site_uv&quot;&gt;&lt;/span&gt;次</span><br><span class="line">&lt;/span&gt;</span><br></pre></td></tr></table></figure><h2 id="12-设置网站的图标Favicon"><a href="#12-设置网站的图标Favicon" class="headerlink" title="12.设置网站的图标Favicon"></a>12.设置网站的图标Favicon</h2><p>在图标网站找一张你喜欢的图标（大：32x32 小：16x16），图标网站：<a href="https://www.easyicon.net/" target="_blank" rel="noopener">easyicon</a>或者<a href="https://www.iconfont.cn/" target="_blank" rel="noopener">阿里巴巴矢量图标库</a>。将下载下来的小图和中图放在<code>Blog/themes/next/source/images</code>，将默认的两张图片替换掉。</p><p>如果你自定义了图片名字，需要修改主题配置文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># For example, you put your favicons into `hexo-site/source/images` directory.</span><br><span class="line"># Then need to rename &amp; redefine they on any other names, otherwise icons from Next will rewrite your custom icons in Hexo.</span><br><span class="line">favicon:</span><br><span class="line">  small: /images/favicon-16x16-next.png  //16X16小图</span><br><span class="line">  medium: /images/favicon-32x32-next.png  //32X32大图</span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png  //apple-touch-icon </span><br><span class="line">  safari_pinned_tab: /images/logo.svg </span><br><span class="line">  #android_manifest: /images/manifest.json</span><br><span class="line">  #ms_browserconfig: /images/browserconfig.xml</span><br></pre></td></tr></table></figure></p><p>修改后，效果如下：<br><img src="https://img-blog.csdnimg.cn/20190113011854285.png" alt="在这里插入图片描述"></p><h2 id="13-实现文章统计功能"><a href="#13-实现文章统计功能" class="headerlink" title="13.实现文章统计功能"></a>13.实现文章统计功能</h2><p>安装 hexo-symbols-count-time，命令如下：</p><pre><code>npm install hexo-symbols-count-time --save</code></pre><p>在站点配置文件 <code>hexo _config.yaml</code>添加：<br>（注意：修改此配置需要重启服务才能更新）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  symbols: true # 文章字数</span><br><span class="line">  time: true # 阅读时长</span><br><span class="line">  total_symbols: true # 所有文章总字数</span><br><span class="line">  total_time: true # 所有文章阅读中时长</span><br></pre></td></tr></table></figure></p><p>在主题配置文件 <code>next _config.yaml</code>添加：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true  # 是否换行显示 字数统计 及 阅读时长</span><br><span class="line">  item_text_post: true  # 文章 字数统计 阅读时长 使用图标 还是 文本表示</span><br><span class="line">  item_text_total: false # 博客底部统计 字数统计 阅读时长 使用图标 还是 文本表示</span><br><span class="line">  awl: 4</span><br><span class="line">  wpm: 275</span><br></pre></td></tr></table></figure></p><p>具体可查看 <a href="https://github.com/theme-next/hexo-symbols-count-time" target="_blank" rel="noopener">symbols_count_time</a><br>效果图：<br><img src="https://img-blog.csdnimg.cn/20190113015403658.png" alt="在这里插入图片描述"></p><h2 id="14-添加网页顶部进度加载条"><a href="#14-添加网页顶部进度加载条" class="headerlink" title="14.添加网页顶部进度加载条"></a>14.添加网页顶部进度加载条</h2><p>编辑主题配置文件，command+F 搜索 pace，将其值改为 ture 就可以了。</p><h2 id="15-底部隐藏由Hexo强力驱动、主题–NexT-Mist"><a href="#15-底部隐藏由Hexo强力驱动、主题–NexT-Mist" class="headerlink" title="15.底部隐藏由Hexo强力驱动、主题–NexT.Mist"></a>15.底部隐藏由Hexo强力驱动、主题–NexT.Mist</h2><p>打开<code>Blog/themes/next/layout/_partials/footer.swig</code>，注释掉相应代码。<br><img src="https://img-blog.csdnimg.cn/20190113132014381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt=""></p><h2 id="16-博文置顶"><a href="#16-博文置顶" class="headerlink" title="16.博文置顶"></a>16.博文置顶</h2><p>修改<code>hexo-generator-index</code>插件，把<code>node_modules/hexo-generator-index/lib/generator.js</code>中代码替换为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">var pagination = require(&apos;hexo-pagination&apos;);</span><br><span class="line">module.exports = function(locals)&#123;</span><br><span class="line">  var config = this.config;</span><br><span class="line">  var posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class="line">        if(a.top &amp;&amp; b.top) &#123; // 两篇文章top都有定义</span><br><span class="line">            if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排</span><br><span class="line">            else return b.top - a.top; // 否则按照top值降序排</span><br><span class="line">        &#125;</span><br><span class="line">        else if(a.top &amp;&amp; !b.top) &#123; // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        else if(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            return 1;</span><br><span class="line">        &#125;</span><br><span class="line">        else return b.date - a.date; // 都没定义按照文章日期降序排</span><br><span class="line">    &#125;);</span><br><span class="line">  var paginationDir = config.pagination_dir || &apos;page&apos;;</span><br><span class="line">  return pagination(&apos;&apos;, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [&apos;index&apos;, &apos;archive&apos;],</span><br><span class="line">    format: paginationDir + &apos;/%d/&apos;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>文章添加Top值，值越大，越靠前：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo-NexT主题配置</span><br><span class="line">date: 2018-01-20 20:41:08</span><br><span class="line">categories: Hexo</span><br><span class="line">tags:</span><br><span class="line">- Hexo</span><br><span class="line">- NexT</span><br><span class="line">top: 100</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="17-添加站内搜索"><a href="#17-添加站内搜索" class="headerlink" title="17.添加站内搜索"></a>17.添加站内搜索</h2><p>NexT主题支持集成 Swiftype、 微搜索、Local Search 和 Algolia。下面介绍Local Search的安装。<br>安装 hexo-generator-search</p><pre><code>npm install hexo-generator-search --save</code></pre><p>安装 hexo-generator-searchdb</p><pre><code>npm install hexo-generator-searchdb --save</code></pre><p>编辑<strong>站点配置文件</strong>，添加以下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure><p>编辑主题配置文件，设置 <code>Local searchenable</code> 为 ture<br>效果如下图所示：<br><img src="https://img-blog.csdnimg.cn/20190113124923711.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="18-在文章底部增加版权信息"><a href="#18-在文章底部增加版权信息" class="headerlink" title="18.在文章底部增加版权信息"></a>18.在文章底部增加版权信息</h2><p>在目录<code>Blog/themes/next/layout/_macro/</code>，添加文件 <code>my-copyright.swig</code>，内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if page.copyright %&#125;</span><br><span class="line">&lt;div class=&quot;my_post_copyright&quot;&gt;</span><br><span class="line">  &lt;script src=&quot;//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;!-- JS库 sweetalert 可修改路径 --&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;https://unpkg.com/sweetalert/dist/sweetalert.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;本文标题:&lt;/span&gt;&lt;a href=&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot;&gt;&#123;&#123; page.title &#125;&#125;&lt;/a&gt;&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;文章作者:&lt;/span&gt;&lt;a href=&quot;/&quot; title=&quot;访问 &#123;&#123; theme.author &#125;&#125; 的个人博客&quot;&gt;&#123;&#123; theme.author &#125;&#125;&lt;/a&gt;&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;发布时间:&lt;/span&gt;&#123;&#123; page.date.format(&quot;YYYY年MM月DD日 - HH:MM&quot;) &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;最后更新:&lt;/span&gt;&#123;&#123; page.updated.format(&quot;YYYY年MM月DD日 - HH:MM&quot;) &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;原始链接:&lt;/span&gt;&lt;a href=&quot;&#123;&#123; url_for(page.path) &#125;&#125;&quot; title=&quot;&#123;&#123; page.title &#125;&#125;&quot;&gt;&#123;&#123; page.permalink &#125;&#125;&lt;/a&gt;</span><br><span class="line">    &lt;span class=&quot;copy-path&quot;  title=&quot;点击复制文章链接&quot;&gt;&lt;i class=&quot;fa fa-clipboard&quot; data-clipboard-text=&quot;&#123;&#123; page.permalink &#125;&#125;&quot;  aria-label=&quot;复制成功！&quot;&gt;&lt;/i&gt;&lt;/span&gt;</span><br><span class="line">  &lt;/p&gt;</span><br><span class="line">  &lt;p&gt;&lt;span&gt;许可协议:&lt;/span&gt;&lt;i class=&quot;fa fa-creative-commons&quot;&gt;&lt;/i&gt; &lt;a rel=&quot;license&quot; href=&quot;https://creativecommons.org/licenses/by-nc-nd/4.0/&quot; target=&quot;_blank&quot; title=&quot;Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)&quot;&gt;署名-非商业性使用-禁止演绎 4.0 国际&lt;/a&gt; 转载请保留原文链接及作者。&lt;/p&gt;  </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt; </span><br><span class="line">    var clipboard = new Clipboard(&apos;.fa-clipboard&apos;);</span><br><span class="line">    $(&quot;.fa-clipboard&quot;).click(function()&#123;</span><br><span class="line">      clipboard.on(&apos;success&apos;, function()&#123;</span><br><span class="line">        swal(&#123;   </span><br><span class="line">          title: &quot;&quot;,   </span><br><span class="line">          text: &apos;复制成功&apos;,</span><br><span class="line">          icon: &quot;success&quot;, </span><br><span class="line">          showConfirmButton: true</span><br><span class="line">          &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    &#125;);  </span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></p><p>在目录<code>Blog/themes/next/source/css/_common/components/post/</code>下添加文件<code>my-post-copyright.styl</code>，添加以下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">.my_post_copyright &#123;</span><br><span class="line">  width: 85%;</span><br><span class="line">  max-width: 45em;</span><br><span class="line">  margin: 2.8em auto 0;</span><br><span class="line">  padding: 0.5em 1.0em;</span><br><span class="line">  border: 1px solid #d3d3d3;</span><br><span class="line">  font-size: 0.93rem;</span><br><span class="line">  line-height: 1.6em;</span><br><span class="line">  word-break: break-all;</span><br><span class="line">  background: rgba(255,255,255,0.4);</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright p&#123;margin:0;&#125;</span><br><span class="line">.my_post_copyright span &#123;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  width: 5.2em;</span><br><span class="line">  color: #b5b5b5;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright .raw &#123;</span><br><span class="line">  margin-left: 1em;</span><br><span class="line">  width: 5em;</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright a &#123;</span><br><span class="line">  color: #808080;</span><br><span class="line">  border-bottom:0;</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright a:hover &#123;</span><br><span class="line">  color: #a3d2a3;</span><br><span class="line">  text-decoration: underline;</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright:hover .fa-clipboard &#123;</span><br><span class="line">  color: #000;</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright .post-url:hover &#123;</span><br><span class="line">  font-weight: normal;</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright .copy-path &#123;</span><br><span class="line">  margin-left: 1em;</span><br><span class="line">  width: 1em;</span><br><span class="line">  +mobile()&#123;display:none;&#125;</span><br><span class="line">&#125;</span><br><span class="line">.my_post_copyright .copy-path:hover &#123;</span><br><span class="line">  color: #808080;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>修改<code>Blog/themes/next/layout/_macro/post.swig</code>，在如图位置 post body 后面添加以下代码：<br><img src="https://img-blog.csdnimg.cn/20190113130052239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span>&gt;</span><br><span class="line">      &#123;% if not is_index %&#125;</span><br><span class="line">        &#123;% include 'my-copyright.swig' %&#125;</span><br><span class="line">      &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p><p>在<code>Blog/themes/next/source/css/_common/components/post/post.styl</code>文件最后加入下面的代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;my-post-copyright&quot;</span><br></pre></td></tr></table></figure><p>在Markdown文章中加入<code>copyright : ture</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo-NexT主题配置</span><br><span class="line">date: 2018-01-20 20:41:08</span><br><span class="line">categories: Hexo</span><br><span class="line">tags:</span><br><span class="line">- Hexo</span><br><span class="line">- NexT</span><br><span class="line">top: 100</span><br><span class="line">copyright: ture</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>配置根目录下的_config.yml文件，配置为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class="line">url: https://wenmobo.github.io/  //你的网站地址</span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure><h2 id="19-添加侧栏推荐阅读"><a href="#19-添加侧栏推荐阅读" class="headerlink" title="19.添加侧栏推荐阅读"></a>19.添加侧栏推荐阅读</h2><p>编辑主题配置文件，如下配置即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Blog rolls</span><br><span class="line">links_icon: link</span><br><span class="line">links_title: 推荐阅读</span><br><span class="line">#links_layout: block</span><br><span class="line">links_layout: inline</span><br><span class="line">links:</span><br><span class="line">  Swift 4: https://developer.apple.com/swift/</span><br><span class="line">  Objective-C: https://developer.apple.com/documentation/objectivec</span><br></pre></td></tr></table></figure></p><p>效果如下图所示：<br><img src="https://img-blog.csdnimg.cn/20190113130727708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="20-添加底部桃心"><a href="#20-添加底部桃心" class="headerlink" title="20.添加底部桃心"></a>20.添加底部桃心</h2><p>打开<code>Blog/themes/next/layout/_partials/footer.swig</code>搜索with-love，在fontawesom找到你喜欢的图标，在如下位置替换即可：<br><img src="https://img-blog.csdnimg.cn/20190113131211555.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>效果如下图所示：<br><img src="https://img-blog.csdnimg.cn/20190113131231975.png" alt="在这里插入图片描述"></p><h2 id="21-添加DaoVoice在线联系"><a href="#21-添加DaoVoice在线联系" class="headerlink" title="21.添加DaoVoice在线联系"></a>21.添加DaoVoice在线联系</h2><p>首先在<a href="http://dashboard.daovoice.io/get-started" target="_blank" rel="noopener">DaoVoice</a>注册个账号<br>完成后，会得到一个app_id，后面会用到：<br><img src="https://img-blog.csdnimg.cn/20190113132753183.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>修改<code>themes\hexo-theme-next\layout\_partials\head\head.swig</code>文件，在如下位置添加内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice %&#125;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function(i,s,o,g,r,a,m)&#123;i[&quot;DaoVoiceObject&quot;]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=&quot;utf-8&quot;;m.parentNode.insertBefore(a,m)&#125;)(window,document,&quot;script&quot;,(&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//widget.daovoice.io/widget/0f81ff2f.js&quot;,&quot;daovoice&quot;)</span><br><span class="line">  daovoice(&apos;init&apos;, &#123;</span><br><span class="line">      app_id: &quot;&#123;&#123;theme.daovoice_app_id&#125;&#125;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">  daovoice(&apos;update&apos;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20190113132534348.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>在主题配置文件_config.yml文件中添加内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Online contact</span><br><span class="line">daovoice: true</span><br><span class="line">daovoice_app_id:   # 这里填你刚才获得的 app_id</span><br></pre></td></tr></table></figure></p><p>聊天窗口配置<br><img src="https://img-blog.csdnimg.cn/2019011313324511.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>我的配置如下：<br><img src="https://img-blog.csdnimg.cn/20190113133445707.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0phc21pbmVhaGE=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>效果如下：<br><img src="https://img-blog.csdnimg.cn/20190113133609160.png" alt="在这里插入图片描述"></p><h2 id="22-博客加上萌萌的宠物"><a href="#22-博客加上萌萌的宠物" class="headerlink" title="22. 博客加上萌萌的宠物"></a>22. 博客加上萌萌的宠物</h2><p>然后输入如下代码安装：</p><pre><code>npm install -save hexo-helper-live2d</code></pre><p>然后在 hexo 的 _config.yml 中添加参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-miku</span><br><span class="line">  display:</span><br><span class="line">    position: right</span><br><span class="line">    width: 140</span><br><span class="line">    height: 260</span><br><span class="line">  mobile:</span><br><span class="line">    show: true</span><br></pre></td></tr></table></figure></p><p>其中的 model 可以从一下列表中选择一个：<br>点击查看<a href="https://huaji8.top/post/live2d-plugin-2.0/" target="_blank" rel="noopener"><strong>模型预览</strong></a>，查看<a href="https://github.com/xiazeyu/live2d-widget-models" target="_blank" rel="noopener"><strong>官方文档</strong></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">live2d-widget-model-chitose</span><br><span class="line">live2d-widget-model-epsilon2_1</span><br><span class="line">live2d-widget-model-gf</span><br><span class="line">live2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)</span><br><span class="line">live2d-widget-model-haruto</span><br><span class="line">live2d-widget-model-hibiki</span><br><span class="line">live2d-widget-model-hijiki</span><br><span class="line">live2d-widget-model-izumi</span><br><span class="line">live2d-widget-model-koharu</span><br><span class="line">live2d-widget-model-miku</span><br><span class="line">live2d-widget-model-ni-j</span><br><span class="line">live2d-widget-model-nico</span><br><span class="line">live2d-widget-model-nietzsche</span><br><span class="line">live2d-widget-model-nipsilon</span><br><span class="line">live2d-widget-model-nito</span><br><span class="line">live2d-widget-model-shizuku</span><br><span class="line">live2d-widget-model-tororo</span><br><span class="line">live2d-widget-model-tsumiki</span><br><span class="line">live2d-widget-model-unitychan</span><br><span class="line">live2d-widget-model-wanko</span><br><span class="line">live2d-widget-model-z16</span><br></pre></td></tr></table></figure></p><hr><h2 id="首页文章只显示预览"><a href="#首页文章只显示预览" class="headerlink" title="首页文章只显示预览"></a>首页文章只显示预览</h2><p>打开主题配置文件 _config.yml，搜索 <code>auto_excerpt</code> ,找到如下部分：</p><pre><code># Automatically Excerpt. Not recommand.# Please use &lt;!-- more --&gt; in the post to control excerpt accurately.auto_excerpt:    enable: false    length: 150</code></pre><p>把enable改为对应的 false 改为 true</p>]]></content>
      
      
      <categories>
          
          <category> 未分类 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>【线段树】 2018-2019 ICPC,NEERC,Southern Subregional Contest (Online Mirror, ACM-ICPC）C. Cloud Computing</title>
      <link href="/%E3%80%90%E7%BA%BF%E6%AE%B5%E6%A0%91%E3%80%91%202018-2019%20ICPC,NEERC,Southern%20Subregional%20Contest%20(Online%20Mirror,%20ACM-ICPC%EF%BC%89C.%20Cloud%20Computing/"/>
      <url>/%E3%80%90%E7%BA%BF%E6%AE%B5%E6%A0%91%E3%80%91%202018-2019%20ICPC,NEERC,Southern%20Subregional%20Contest%20(Online%20Mirror,%20ACM-ICPC%EF%BC%89C.%20Cloud%20Computing/</url>
      
        <content type="html"><![CDATA[<h3 id="题目链接：http-codeforces-com-contest-1070-problem-C"><a href="#题目链接：http-codeforces-com-contest-1070-problem-C" class="headerlink" title="题目链接：http://codeforces.com/contest/1070/problem/C"></a>题目链接：<a href="http://codeforces.com/contest/1070/problem/C" target="_blank" rel="noopener">http://codeforces.com/contest/1070/problem/C</a></h3><p>Buber is a Berland technology company that specializes in waste of investor’s money. Recently Buber decided to transfer its infrastructure to a cloud. The company decided to rent CPU cores in the cloud for n consecutive days, which are numbered from 1 to n. Buber requires k CPU cores each day.<br>The cloud provider offers m tariff plans, the i-th tariff plan is characterized by the following parameters:<br>li and ri — the i-th tariff plan is available only on days from li to ri, inclusive,<br>ci — the number of cores per day available for rent on the i-th tariff plan,<br>pi — the price of renting one core per day on the i-th tariff plan.<br>Buber can arbitrarily share its computing core needs between the tariff plans. Every day Buber can rent an arbitrary number of cores (from 0 to ci) on each of the available plans. The number of rented cores on a tariff plan can vary arbitrarily from day to day.<br>Find the minimum amount of money that Buber will pay for its work for n days from 1 to n. If on a day the total number of cores for all available tariff plans is strictly less than k, then this day Buber will have to work on fewer cores (and it rents all the available cores), otherwise Buber rents exactly k cores this day.</p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>有 n 天，每天需要买 k 个cpu。现在有 m 个供应商，第 i 个供应商可在 [Li, Ri] 天之间，每天提供 Ci 个价格为 Pi 的cpu。如果某天的 cpu 凑不够 k 个，那就把仅有的全买下。问 n 天的最小花费。</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>对价格建立一棵权值线段树，每个节点表示这个价格区间内的 cpu 数量和总价格。</p><p>因此我们对于每一天记录有哪些新活动加入，哪些活动结束。然后维护线段树，即价格为i的活动，一共能提供多少个CPU。 这样对于每天去查询线段树时，就可以找到价格最低的 k 个cpu。在维护线段树时，额外再维护一个当前区间内所有 cpu 的总价格。那么，线段树的每个节点存的是这个价格区间内的 cpu 数量和总价。</p><p>这样就利用了线段树的二分性，快速求出了前缀数量和为K的价格和。</p><h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MaxN = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k;</span><br><span class="line"><span class="built_in">vector</span>&lt;PII&gt; day[MaxN];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sgtree</span> &#123;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ls o &lt;&lt; 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rs ls | 1</span></span><br><span class="line">LL cnt[<span class="number">4</span> * MaxN], cost[<span class="number">4</span> * MaxN]; <span class="comment">//当前节点的CPU的 数量 和 总价格</span></span><br><span class="line">PII val;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushUP</span><span class="params">(<span class="keyword">int</span> o)</span> </span>&#123;</span><br><span class="line">cnt[o] = cnt[ls] + cnt[rs];</span><br><span class="line">cost[o] = cost[ls] + cost[rs];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> o, <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(l == r) &#123;</span><br><span class="line">cnt[o] += val.first;</span><br><span class="line">cost[o] += <span class="number">1L</span>L * val.first * val.second;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(val.second &lt;= mid) update(ls, l, mid);</span><br><span class="line"><span class="keyword">else</span> update(rs, mid + <span class="number">1</span>, r);</span><br><span class="line">pushUP(o);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LL <span class="title">query</span><span class="params">(<span class="keyword">int</span> o, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> ned)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(cnt[o] &lt;= ned) <span class="keyword">return</span> cost[o]; <span class="comment">//当前l~r的总个数小于需要的个数，就全买</span></span><br><span class="line"><span class="keyword">if</span>(l == r) <span class="keyword">return</span> <span class="number">1L</span>L * ned * l;  <span class="comment">//查询到最底层后，就全买价格为l的</span></span><br><span class="line"><span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"><span class="comment">//如果l~mid的个数大于我所需要的，就从此区间选择</span></span><br><span class="line"><span class="keyword">if</span>(cnt[ls] &gt;= ned) <span class="keyword">return</span> query(ls, l, mid, ned); </span><br><span class="line"><span class="comment">//否则先把便宜的全买了，再去右边的区间查询</span></span><br><span class="line"><span class="keyword">return</span> cost[ls] + query(rs, mid+<span class="number">1</span>, r, ned - cnt[ls]); </span><br><span class="line">&#125;</span><br><span class="line">&#125;tree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LL ans = <span class="number">0L</span>L;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;n, &amp;k, &amp;m);</span><br><span class="line"><span class="keyword">while</span>(m--) &#123;</span><br><span class="line"><span class="keyword">int</span> l, r, c, p;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>, &amp;l, &amp;r, &amp;c, &amp;p);</span><br><span class="line">day[l].push_back(PII(c, p));     <span class="comment">//每天新加的活动</span></span><br><span class="line">day[r+<span class="number">1</span>].push_back(PII(-c, p));  <span class="comment">//每天退出的活动</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; day[i].size(); j++) &#123;</span><br><span class="line">tree.val = day[i][j];</span><br><span class="line">tree.update(<span class="number">1</span>, <span class="number">1</span>, MaxN);</span><br><span class="line">&#125;</span><br><span class="line">ans += tree.query(<span class="number">1</span>, <span class="number">1</span>, MaxN, k);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 线段树 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 线段树 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
